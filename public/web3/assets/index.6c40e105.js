var e=Object.defineProperty,t=Object.defineProperties,l=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,o=(t,l,a)=>l in t?e(t,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[l]=a,i=(e,t)=>{for(var l in t||(t={}))s.call(t,l)&&o(e,l,t[l]);if(a)for(var l of a(t))n.call(t,l)&&o(e,l,t[l]);return e},p=(e,a)=>t(e,l(a));import{d as c,o as r,c as d,b as y,t as u,u as m,aD as g,j as f,g as b,q as x,aG as v,N as h,e as k,I as _,a as j,w,F as T,aw as O,aM as z,c4 as I,cj as P,aB as C,aO as L,b2 as S,z as q,ck as D,aH as A,D as F,f as M,_ as R,X as V,M as $,m as E,v as N,r as Y,n as B,i as J,A as U,cl as W,aQ as G,ca as H,b4 as K,x as Q,a1 as X,p as Z,k as ee,a0 as te,aT as le,aU as ae,aW as se}from"./app.46fe480c.js";/* empty css              */import{s as ne,_ as oe,a as ie,g as pe,b as ce,c as re,d as de,t as ye}from"./selectTag.4b4be7a4.js";import{_ as ue}from"./index.15953e59.js";import{_ as me}from"./index.4c06d6a8.js";import{_ as ge}from"./meta.530fca83.js";/* empty css               */import{_ as fe}from"./day.4b95bc33.js";import{_ as be}from"./pcTip.5ddd5b19.js";import{g as xe,a as ve,r as he}from"./token.a4db579f.js";import{d as ke,g as _e}from"./index.cead427e.js";import{E as je}from"./interface.812a3c85.js";import{_ as we}from"./tool.7ec53dbb.js";import{_ as Te}from"./main.04f57b9b.js";import{_ as Oe}from"./main.2cc542f4.js";import{h as ze}from"./apyFixed.ae26f358.js";import{T as Ie}from"./dapp.f9c88518.js";import{_ as Pe}from"./index.0129a9ba.js";import{_ as Ce}from"./router.fc465fac.js";const Le={class:"flex items-center justify-between w-full text-xs"},Se={class:"flex-1 w-1"},qe={class:"whitespace-nowrap max-w-full truncate"},De={class:"text-global-highTitle"},Ae={class:"ml-1 text-global-highTitle text-opacity-65"},Fe={class:"flex items-center"},Me={class:"text-global-highTitle text-opacity-65 ml-1"},Re={class:"ml-2"},Ve={class:"text-global-highTitle text-opacity-85"},$e=c({props:{data:{type:Object,required:!0}},setup:e=>(t,l)=>{const a=me;return r(),d("div",Le,[y("div",Se,[y("div",qe,[y("span",De,u(e.data.project),1),y("span",Ae,"TVL:$"+u(m(g)(e.data.tvl)),1)]),y("div",Fe,[e.data.chain?(r(),f(a,{key:0,class:"flex",type:e.data.chain,size:"14"},null,8,["type"])):b("v-if",!0),e.data.project_category?(r(),f(a,{key:1,class:"ml-1 flex",type:e.data.project_category,size:"14"},null,8,["type"])):b("v-if",!0),y("span",Me,u(e.data.strategy_tags),1)])]),y("div",Re,[y("span",Ve,"APY:"+u(m(g)(e.data.apy))+"%",1)])])}}),Ee=function(){return{symbol:{type:String,required:!0},type:{type:String,required:!0},projectType:{type:String}}},Ne={class:"flex justify-between items-center"},Ye={class:"flex-1 w-1"},Be={class:"inline-block leading-6 align-middle text-global-highTitle text-opacity-85 text-kd18px24px"},Je={class:"ml-5"},Ue={class:"xshidden cursor-pointer text-global-highTitle text-opacity-65"},We={class:"mt-3"},Ge={class:"flex justify-between items-center"},He={class:"xshidden"},Ke={class:"inline-flex items-center px-3 py-0.5"},Qe={class:"text-sm"},Xe={class:"inline-flex items-center px-3 py-0.5"},Ze={class:"text-sm"},et=c({props:Ee(),setup(e){const t=e,l=x({value:!1}),a=v("poolList"),s=[{label:h.apy.token.pool.token,value:"token"},{label:h.apy.token.pool.lp,value:"lp"}],n=k([]),o=async function(e){const l=Object.assign({chain:"all",symbol_type:s[0].value,symbol_alias:t.symbol},e||{},{pool_type:t.type}),a=await xe(l);if(a&&a.length>0){const e=new O(a);n.value=e.clone()}else n.value=[];return[]},i=function(e){const t=z((e=>e.id),e);a(t)},p=function(e){const t={query:e.search,chain:e.chain,symbol_type:e.radioValue};o(t)},c=_((()=>"mining"===t.type?h.template(h.apyIndex.tokenMiningTitle,{token:t.symbol}):h.template(h.apyIndex.tokenLendingTitle,{token:t.symbol})));return(e,t)=>{const a=ue,g=me,x=I,v=$e,k=oe,_=fe,O=be;return r(),d(T,null,[y("div",null,[y("div",Ne,[y("p",Ye,[b("        tokenMiningTitle:'{token} APY TOP 10 POOLS',"),b("        tokenLendTitle:'{token} BORROW APR '"),y("span",Be,u(m(c)),1),b('        <span class="inline-block leading-6 ml-1.5 text-xs text-global-highTitle text-opacity-45">更新时间：1分钟前</span>')]),y("div",Je,[y("div",Ue,[b(" 保存 echarts 图表 "),j(a,{title:`${e.symbol}top10`},null,8,["title"])])])]),b('    <p class="mt-1.5">'),b('      <span class="leading-6 text-xs text-global-highTitle text-opacity-45">{{ I18n.apy.token.description }}</span>'),b("    </p>")]),y("div",We,[y("div",Ge,[y("div",null,[y("div",He,[j(k,{title:m(h).apy.token.pool.add,"sub-title":m(h).apy.token.pool.selected,max:10,list:n.value,radios:s,selects:m(ne),onSubmit:i,onChangeParam:p,onload:o},{content:w((()=>[j(x,{plain:"",size:"small"},{default:w((()=>[y("div",Ke,[j(g,{class:"flex mr-1",type:"icon-plus",size:"16"}),y("span",Qe,u(m(h).apy.token.pool.add),1)])])),_:1})])),item:w((e=>[j(v,{data:e.data},null,8,["data"])])),result:w((e=>[e.data?(r(),f(v,{key:0,data:e.data},null,8,["data"])):b("v-if",!0)])),_:1},8,["title","sub-title","list","selects"])]),y("div",{onClick:t[0]||(t[0]=e=>m(l).value=!0),class:"mdhidden"},[j(x,{plain:"",size:"small"},{default:w((()=>[y("div",Xe,[j(g,{class:"flex mr-1",type:"icon-plus",size:"16"}),y("span",Ze,u(m(h).apy.token.pool.add),1)])])),_:1})])]),y("div",null,[j(_)])])]),j(O,{pcTip:m(l)},null,8,["pcTip"])],64)}}}),tt=c({props:Ee(),setup(e){const t=e,l=k(!1),a=k("");x(new je);const s=k();return P([ke.value,"poolList"],(function(e){const n=_e(e[0]);let o=[];if(e[1]){const[t=[]]=C(e[1]);o.push(...t)}!async function(e,n){l.value=!0;const o=p(i(i({},e),t),{pools:n.join(",")});s.value=o,a.value=L(JSON.stringify(o))}(n,o)})),(e,l)=>{const n=ie;return"mining"===t.type?(r(),f(n,{class:"mt-4",page:"token_farm",origin:"token",dialogType:"mining",symbol:t.symbol,key:a.value,header:!1,paramData:s.value,token:!0,type:"mining"},null,8,["symbol","paramData"])):(r(),f(n,{class:"mt-4",key:a.value,page:"token_borrow",origin:"token",dialogType:"lend",symbol:t.symbol,header:!1,paramData:s.value,token:!0,type:"lend"},null,8,["symbol","paramData"]))}}}),lt=c({setup(e){const t=D();return S("downloadContent",(function(){const e=null==t?void 0:t.vnode;return e?e.el:null})),(e,t)=>(r(),d("div",null,[q(e.$slots,"default")]))}}),at={class:"w-full h-full"},st=c({props:{projectId:Object,symbol:String},setup(e){const t=e,[l]=S("project","all"),[a]=S("txt",""),[s]=S("filterType","all"),[n]=S("chained","all"),o=A("projectType"),i=k(0),p=x({project_id:l.value[0],symbol:t.symbol,symbol_type:"lp"===o.value[0]?"lp":s.value[0],query:"",chain:n.value[0],ordering_field:"apy",ordering:"desc",page:1,page_size:10}),c=k([]),g=async e=>{const t=await pe(p);i.value=t.length,c.value=e?t:c.value.concat(t)};F((()=>[s.value[0],l.value[0],n.value[0],a.value[0]]),(e=>{p.page=1,p.symbol_type=e[0],p.project_id=e[1],p.chain=e[2],p.query=e[3],g(!0)}));const f=()=>{p.page++,g(!1)};return F((()=>t.symbol),(e=>{p.symbol=e,g(!1)})),F((()=>[p.ordering_field,p.ordering]),(()=>g(!0))),M(g()),(e,t)=>{const l=we,a=Te;return r(),d(T,null,[y("div",at,[j(l,{hasCustom:!1,hasProject:!0,type:"lp"!==m(o)[0],hasChain:!0},null,8,["type"]),j(a,{type:"token",page:"token_farm_all",origin:"token",dialogType:"mining",param:m(p),data:c.value,class:"mt-3"},null,8,["param","data"])]),i.value===m(p).page_size?(r(),d("div",{key:0,onClick:f,class:"mx-auto text-kd14px18px text-global-highTitle text-opacity-65 w-50 py-2 text-center mt-4 hand font-kdFang bg-global-highTitle bg-opacity-6 px-3 py-2 rounded-kd4px"},u(m(h).apyIndex.more),1)):b("v-if",!0)],64)}}}),nt={class:"mt-8"},ot={class:"text-kd18px24px text-global-highTitle text-opacity-85 mb-3"},it=c({props:Ee(),setup(e){const t=e;S("poolList"),S(ke.value);const l=_((()=>h.template(h.apyIndex.tokenMiningListTitle,{token:t.symbol})));return(e,t)=>{const a=et,s=tt,n=lt,o=st;return r(),d(T,null,[j(n,null,{default:w((()=>[b(" 币种描述 "),j(a,{symbol:e.symbol,type:e.type},null,8,["symbol","type"]),(r(),d("div",{key:e.trendKey},[j(s,{symbol:e.symbol,type:e.type},null,8,["symbol","type"])]))])),_:1}),y("div",nt,[y("h3",ot,u(m(l)),1),j(o,{symbol:e.symbol,type:e.type,projectType:e.projectType},null,8,["symbol","type","projectType"])])],64)}}}),pt={class:"w-full h-full"},ct=c({props:{symbol:String},setup(e){const t=e,[l]=S("project","all"),[a]=S("txt",""),[s]=S("filterType","all"),[n]=S("chained","all"),o=k(0);k(""),k("");const i={lend_symbol:"all",loan_symbol:t.symbol?t.symbol:"all",project_id:"all",ordering:"desc",sort:void 0,chain:"all",page:1,page_size:10},p=k([]),c=async e=>{const t=await ce(i);o.value=t.length,p.value=e?t:p.value.concat(t)};F((()=>[s.value[0],l.value[0],n.value[0],a.value[0]]),(e=>{i.page=1,i.symbol_type=e[0],i.project_id=e[1],i.chain=e[2],i.query=e[3],c(!0)}));const g=()=>{i.page++,c(!1)};return F((()=>t.symbol),(e=>{i.loan_symbol=e,c(!1)})),M(c()),(e,t)=>{const l=we,a=Oe;return r(),d(T,null,[y("div",pt,[j(l,{hasCustom:!1,hasProject:!0,type:!0,hasChain:!0}),j(a,{origin:"token",dialogType:"lend",page:"token_borrow_all",pageType:"tokenLending",data:p.value,class:"mt-3"},null,8,["data"])]),o.value===i.page_size?(r(),d("div",{key:0,onClick:g,class:"mx-auto text-kd14px18px text-global-highTitle text-opacity-65 w-50 py-2 text-center mt-4 hand font-kdFang bg-global-highTitle bg-opacity-6 px-3 py-2 rounded-kd4px"},u(m(h).apyIndex.more),1)):b("v-if",!0)],64)}}}),rt={class:"mt-8"},dt={class:"text-kd18px24px text-global-highTitle text-opacity-85 mb-3"},yt=c({props:Ee(),setup(e){const t=e;S("poolList",""),S(ke.value);const l=_((()=>h.template(h.apyIndex.loanAllRouter,{token:t.symbol})));return(e,t)=>{const a=et,s=tt,n=lt,o=ct;return r(),d(T,null,[j(n,null,{default:w((()=>[b(" 币种描述 "),j(a,{symbol:e.symbol,type:e.type},null,8,["symbol","type"]),y("div",null,[j(s,{symbol:e.symbol,id:e.id,type:e.type},null,8,["symbol","id","type"])])])),_:1}),y("div",rt,[y("h3",dt,u(m(l)),1),j(o,{symbol:e.symbol,type:e.type},null,8,["symbol","type"])])],64)}}});const ut={class:"text-kdFang"},mt={key:0,class:"hidden"},gt={class:"flex justify-between md:flex-row flex-col"},ft={class:"flex items-center justify-between"},bt={class:"flex items-center font-kdExp"},xt={style:{"font-size":"24px"},class:"title ml-2 font-bold text-global-highTitle text-opacity-85"},vt={class:"md:ml-4 ml-2 text-xl text-global-highTitle text-opacity-85"},ht={class:"ml-2 bg-global-numRed flex items-center pt-0.5 px-1 font-kdExp md:rounded rounded-kd4px"},kt={class:"text-global-white flex items-center md:text-kd16px24px text-kd14px18px"},_t={class:"ml-2 text-kd12px16px w-fit whitespace-nowrap"},jt={key:1,class:"mt-8 pt-0.5"};var wt=R(c({props:{symbol:{type:String,required:!0},category:{type:Array,required:!0}},setup(e){const t=e,l=x({name:"",icon:"",prince:0,change:0,mining_followed:!1,lend_followed:!1}),a=k(""),s=function(e){const{path:l}=W(),a={symbol:t.symbol,category:e};return N({path:l,query:a})};M((function(){if(t.category){const e=C(t.category),n=new O(e),o=V("category");if(n.selectOne({id:o}))a.value=o,async function(){const e=await ve(t.symbol);l.name=$(e,"name"),l.icon=$(e,"icon"),l.mining_followed=U($(e,"mining_followed")),l.lend_followed=U($(e,"lend_followed")),l.prince=$(e,"ticker.prince"),l.change=$(e,"ticker.change_percent")}();else{const t=$(e,"[0].id");t&&E.location.replace(s(t))}}}));return(t,n)=>{const o=ge,i=me,p=re,c=de,x=Y("router-link"),v=it,k=yt;return r(),d("div",ut,[e.symbol?(r(),d("div",mt,[j(o,{value:m(h).template(m(h).apyIndex.pageToken.title,{symbol:e.symbol})},null,8,["value"])])):b("v-if",!0),y("div",gt,[y("div",ft,[y("div",bt,[j(i,{class:"xshidden",type:m(l).icon,size:"40",rounded:""},null,8,["type"]),j(i,{class:"mdhidden",type:m(l).icon,size:"32",rounded:""},null,8,["type"]),y("b",xt,u(m(l).name),1),y("span",vt,"$"+u(m(g)(m(l).prince)),1),y("div",ht,[y("div",kt,u(m(g)(m(l).change))+"%",1)])]),j(p,{class:"flex md:hidden p-2 bg-global-darkblue rounded-1/2 cursor-pointer"},{default:w((()=>[j(i,{class:"text-white",type:"icon-sousuo-da1",size:"16"})])),_:1})]),y("div",{class:B(["flex items-center md:rounded-xl rounded-kd12px md:mt-0 mt-8 bg-global-highTitle bg-opacity-6 p-1",{hidden:e.category.length<=1}])},[(r(!0),d(T,null,J(e.category,(t=>(r(),f(x,{key:t.id,onClick:e=>{return l=t.name,a=t.id,ze.event(`点击${l}`,"token_"+("mining"===a?"farm":"borrow"));var l,a},class:B(["page-switch flex-1 text-center flex justify-center",{active:a.value===t.id}]),to:s(t.id)},{default:w((()=>[j(i,{class:"xshidden",type:"icon-danbi",size:"24"}),j(i,{class:"mdhidden",type:"icon-danbi",size:"20"}),y("span",_t,u(t.name),1),b(" 收藏 "),j(c,{class:"ml-1.5",type:t.id,value:e.symbol,status:m(l)[t.followed]},null,8,["type","value","status"])])),_:2},1032,["onClick","class","to"])))),128))],2)]),m(l).name?(r(),d("div",jt,[b("挖矿收益"),m(Ie).mining===a.value?(r(),f(v,{symbol:m(l).name,type:a.value,key:a.value},null,8,["symbol","type"])):m(Ie).deposit===a.value?(r(),d(T,{key:1},[b("利率收益"),j(k,{symbol:m(l).name,type:a.value,key:a.value},null,8,["symbol","type"])],2112)):b("v-if",!0)])):b("v-if",!0)])}}}),[["__scopeId","data-v-1a52eddf"]]);const Tt=e=>(Z("data-v-52bc0176"),e=e(),ee(),e),Ot={class:"pt-5"},zt={class:"flex items-center rounded-kd6px p-1 bg-global-highTitle bg-opacity-4"},It=X("LP"),Pt={class:"relative"},Ct=Tt((()=>y("i",{class:"el-input__icon el-icon-search"},null,-1))),Lt={class:"cursor-pointer text-16-24 text-global-primary"},St={key:0,class:"pt-3 pb-10"},qt={class:"ml-1.5"},Dt={class:"text-sm text-global-highTitle"},At={key:0,class:"md:p-8 p-4"};var Ft=R(c({props:{tokenType:String},setup(e){const t=e;S("uiDate");const[l,a]=S("projectType"),s=k(""),n=function(){const e=V("symbol");if(e)return e;const t=ye.value,[l]=t;return null==l?void 0:l.name},o=_((function(){const e=new O(C(ye.value),"name").selectOne({name:n()});if(e&&e.category&&e.category.length>0){return new O([{id:Ie.mining,name:h.apyIndex.tokenMining,followed:"mining_followed"},{id:Ie.lend,name:h.apyIndex.tokenLending,followed:"lend_followed"}],"id").select({id:e.category})}return[]})),c=_((function(){const e=n(),t=p(i({},V()),{id:e});return L(JSON.stringify(t))})),g=function(e){const t=n();return!!t&&Q(t,e)},x=_((function(){const e=C(ye.value),t=G(s.value);if(t){return new O(e).like({name:H(t)})}return e})),v=function(e){return N(Q("token",e)?"/apy/token":"/apy/lp")};return K((()=>{a(t.tokenType),he(t.tokenType)})),(t,l)=>{const a=te,i=re,p=le,k=me,_=Y("router-link"),O=ae,z=se,I=wt,P=Pe;return r(),f(P,null,{menu:w((()=>[j(z,{class:"h-full text-kdFang"},{default:w((()=>[j(p,{height:"initial",class:"p-0"},{default:w((()=>[y("div",Ot,[y("div",zt,[j(Ce,{href:v("token"),class:B(["token"===e.tokenType?"taged":"tag","flex-1 text-14-18 hand"])},{default:w((()=>[X(u(m(h).apy.token.pool.token),1)])),_:1},8,["href","class"]),j(Ce,{href:v("lp"),class:B(["lp"===e.tokenType?"taged":"tag","flex-1 text-14-18 hand"])},{default:w((()=>[It])),_:1},8,["href","class"])]),y("div",Pt,[j(a,{class:"search-box",placeholder:m(h).apy.token.search,modelValue:s.value,"onUpdate:modelValue":l[0]||(l[0]=e=>s.value=e)},{prefix:w((()=>[Ct])),_:1},8,["placeholder","modelValue"]),j(i,{class:"xl:hidden absolute top-1/2 right-3 transform -translate-y-1/2"},{default:w((()=>[y("span",Lt,u(m(h).common.button.close),1)])),_:1})])])])),_:1}),j(O,{class:"p-0 overflow-auto showY"},{default:w((()=>[m(ye).length>0?(r(),d("div",St,[(r(!0),d(T,null,J(m(x),((e,t)=>(r(),d("div",{key:t,class:"cursor-pointer"},[j(_,{onClick:l[1]||(l[1]=e=>m(ze).click("切换币种","token_token")),class:B(["flex items-center py-1.5 px-4 xl:px-1.5",{"menu-active":g(e.name)}]),to:e.href},{default:w((()=>[j(k,{rounded:"",type:e.icon,size:"24"},null,8,["type"]),y("span",qt,[y("span",Dt,u(e.name),1)])])),_:2},1032,["to","class"])])))),128))])):b("v-if",!0)])),_:1})])),_:1})])),content:w((()=>[m(o).length>0&&n()?(r(),d("div",At,[j(I,{key:m(c),symbol:n(),category:m(o)},null,8,["symbol","category"])])):b("v-if",!0)])),_:1})}}}),[["__scopeId","data-v-52bc0176"]]);export{Ft as _};
