import{N as e,bg as a,bh as t,M as s,aI as n,bi as l,aB as u,bj as i,_ as o,d as c,aw as r,aG as d,e as m,I as b,aM as f,f as v,aN as y,b7 as p,A as h,ae as k,b8 as g,aE as M,r as H,bc as _,bd as q,u as C,o as D,c as Y,a as x,w as E,b as j,F as w,i as O,n as I,t as N,g as V,bk as A,aP as B}from"./app.46fe480c.js";import"./lodash.6b1417a0.js";const F=function(e){const a=n(e);return function(e){return t(e).isAfter(a,"day")}},T={7:{label:e.liquidity.mainHeader.week,value:function(){const e=a();return[t(e).subtract(7,"day"),e]}},14:{label:e.liquidity.mainHeader.twoWeek,value:function(){const e=a();return[t(e).subtract(14,"day"),e]}},30:{label:e.liquidity.mainHeader.month,value:function(){const e=a();return[t(e).subtract(1,"month"),e]}},90:{label:e.liquidity.mainHeader.streeMonth,value:function(){const e=a();return[t(e).subtract(3,"month"),e]}},180:{label:e.liquidity.mainHeader.sixMonth,value:function(){const e=a();return[t(e).subtract(6,"month"),e]}},365:{label:e.liquidity.mainHeader.year,value:function(){const e=a();return[t(e).subtract(1,"year"),e]}},all:{label:e.liquidity.mainHeader.all,value:function(e){return["",s(e,"timeEnd")||a()]}}};var z;(z||(z={})).value="uiDate";const G=function(e){if(e){const[a=[]]=e.value?e.value:u(e),[t=0,s=0]=i(a);return{from_ts:Math.floor(t/1e3),to_ts:Math.floor(s/1e3)}}return{from_ts:null,to_ts:null}};var P=z;const S={class:"flex text-kdFang"},U={class:"date-select-box"},W=["onClick"],$={class:"custom-label"},J={class:"custom-date-box"},K=["onClick"],L={key:0,class:"date-select-box ml-3"},Q={key:0,class:"date-item disabled"},R=["onClick"];var X=o(c({props:{shortcuts:{type:Object,default:function(){return{hour:["7","30"],day:["7","30","90","365","all","custom"]}}},timeEnd:{type:[String,Number]},hiddenType:{type:Boolean,default:()=>!1}},emits:["change","update:value"],setup(a,{emit:t}){const u=a,i=new r,o=d(P.value),c=m(""),z=m(""),G=m([]),X=b((function(){const e={key:z.value};return i.select(e)})),Z=b((function(){const e=u.shortcuts;return f((function(a){const t="hour"===a?"1H":"1D";let s=!0;return e[a]&&(s=!1),{label:t,key:a,disabled:s}}),["hour","day"])})),ee=function(e){let a=[];a=e&&k(e.value)?e.value({timeEnd:u.timeEnd}):B(e.value);const s=function(e){const[a,t]=e,s=[];if(a){const e=l(a,"YYYY/MM/DD");s.push(n(e))}else s.push("");return t?s.push(n(t)):s.push(""),s}(a);t("update:value",s),t("change",s),o&&o(s)},ae=function(e){if(e){if(c.value===e.id)return!1;c.value=e.id}e&&!e.custom&&(G.value=[],ee(e))},te=function(e){if(e&&z.value!==e){z.value=e;let a=i.selectOne({key:e,auto:!0});a||(a=i.selectOne({key:e})),a&&ae(a)}};return v((function(){const a=[];y((function(t,n){a.push(n),y((function(a){const t=p(a)?s(a,"value"):a,l=!!p(a)&&h(s(a,"default")),u=p(a)?s(a,"label"):"";if("custom"===t)i.insert({key:n,label:e.liquidity.mainHeader.custom,custom:!0});else if(u&&k(t))i.insert({key:n,label:u,auto:l,value:t,custom:!1});else if(g(t)||M(t)){const e=s(T,`${t}`);e&&i.insert(Object.assign({label:u},e,{key:n,auto:l,custom:!1}))}}),t)}),u.shortcuts);const[t]=a;te(t)})),(t,s)=>{const n=A,l=H("client-only");return _((D(),Y("div",S,[x(l,null,{default:E((()=>[j("div",U,[(D(!0),Y(w,null,O(C(X),(t=>(D(),Y(w,{key:t.id},[t.custom?(D(),Y("div",{key:0,class:I(["custom-date-picker",{active:t.id===c.value}]),onClick:e=>ae(t)},[j("span",$,N(t.label),1),j("div",J,[x(n,{class:"ui-date-picker cursor-pointer",disabledDate:C(F)(a.timeEnd),"unlink-panels":!0,modelValue:G.value,"onUpdate:modelValue":s[0]||(s[0]=e=>G.value=e),onChange:e=>function(e,a){const{id:t,custom:s}=e;ee({id:t,custom:s,value:a})}(t,e),format:"YYYY-MM-DD",size:"mini",type:"daterange","range-separator":"â€“","start-placeholder":C(e).apy.times.begin,"end-placeholder":C(e).apy.times.end},null,8,["disabledDate","modelValue","onChange","start-placeholder","end-placeholder"])])],10,W)):(D(),Y("span",{key:1,class:I(["date-item",{active:t.id===c.value}]),onClick:e=>ae(t)},N(t.label),11,K))],64)))),128))]),a.hiddenType?V("v-if",!0):(D(),Y("div",L,[(D(!0),Y(w,null,O(C(Z),(e=>(D(),Y(w,{key:e.label},[e.disabled?(D(),Y("span",Q,N(e.label),1)):(D(),Y("span",{key:1,class:I(["date-item",{active:e.key===z.value}]),onClick:a=>te(e.key)},N(e.label),11,R))],64)))),128))]))])),_:1})],512)),[[q,C(X).length>0]])}}}),[["__scopeId","data-v-4f1e7f6d"]]);export{X as _,P as d,G as g};
