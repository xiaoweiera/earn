import{h as e,be as a,bf as t,an as s,aB as n,bg as l,as as u,b2 as i,d as o,ao as c,e as r,x as d,aF as m,f,aG as b,aU as v,ac as p,Z as y,aV as h,az as k,r as g,aZ as _,a_ as x,u as H,o as q,c as C,a as D,w as M,b as Y,F as j,z as E,n as w,t as O,l as V,bh as z,aI as F}from"./app.c3012526.js";import{s as B}from"./interface.2a62e05c.js";import"./lodash.6b1417a0.js";import{_ as I}from"./plugin-vue_export-helper.5a098b48.js";const T=function(e){const a=n(e);return function(e){return t(e).isAfter(a,"day")}},U={7:{label:e.liquidity.mainHeader.week,value:function(){const e=a();return[t(e).subtract(7,"day"),e]}},14:{label:e.liquidity.mainHeader.twoWeek,value:function(){const e=a();return[t(e).subtract(14,"day"),e]}},30:{label:e.liquidity.mainHeader.month,value:function(){const e=a();return[t(e).subtract(1,"month"),e]}},90:{label:e.liquidity.mainHeader.streeMonth,value:function(){const e=a();return[t(e).subtract(3,"month"),e]}},180:{label:e.liquidity.mainHeader.sixMonth,value:function(){const e=a();return[t(e).subtract(6,"month"),e]}},365:{label:e.liquidity.mainHeader.year,value:function(){const e=a();return[t(e).subtract(1,"year"),e]}},all:{label:e.liquidity.mainHeader.all,value:function(e){return["",s(e,"timeEnd")||a()]}}};var Z;(Z||(Z={})).value="uiDate";const A=function(e){if(e){const[a=[]]=e.value?e.value:u(e),[t=0,s=0]=i(a);return{from_ts:Math.floor(t/1e3),to_ts:Math.floor(s/1e3)}}return{from_ts:null,to_ts:null}};var G=Z;const N={class:"flex text-kdFang"},S={class:"date-select-box"},W=["onClick"],$={class:"custom-label"},J={class:"custom-date-box"},K=["onClick"],L={key:0,class:"date-select-box ml-3"},P={key:0,class:"date-item disabled"},Q=["onClick"];var R=I(o({props:{shortcuts:{type:Object,default:function(){return{hour:["7","30"],day:["7","30","90","365","all","custom"]}}},timeEnd:{type:[String,Number]},hiddenType:{type:Boolean,default:()=>!1}},emits:["change","update:value"],setup(a,{emit:t}){const u=a,i=new c,o=B(G.value),I=r(""),Z=r(""),A=r([]),R=d((function(){const e={key:Z.value};return i.select(e)})),X=d((function(){const e=u.shortcuts;return m((function(a){const t="hour"===a?"1H":"1D";let s=!0;return e[a]&&(s=!1),{label:t,key:a,disabled:s}}),["hour","day"])})),ee=function(e){let a=[];a=e&&y(e.value)?e.value({timeEnd:u.timeEnd}):F(e.value);const s=function(e){const[a,t]=e,s=[];if(a){const e=l(a,"YYYY/MM/DD");s.push(n(e))}else s.push("");return t?s.push(n(t)):s.push(""),s}(a);t("update:value",s),t("change",s),o&&o(s)},ae=function(e){if(e){if(I.value===e.id)return!1;I.value=e.id}e&&!e.custom&&(A.value=[],ee(e))},te=function(e){if(e&&Z.value!==e){Z.value=e;let a=i.selectOne({key:e,auto:!0});a||(a=i.selectOne({key:e})),a&&ae(a)}};return f((function(){const a=[];b((function(t,n){a.push(n),b((function(a){const t=v(a)?s(a,"value"):a,l=!!v(a)&&p(s(a,"default")),u=v(a)?s(a,"label"):"";if("custom"===t)i.insert({key:n,label:e.liquidity.mainHeader.custom,custom:!0});else if(u&&y(t))i.insert({key:n,label:u,auto:l,value:t,custom:!1});else if(h(t)||k(t)){const e=s(U,`${t}`);e&&i.insert(Object.assign({label:u},e,{key:n,auto:l,custom:!1}))}}),t)}),u.shortcuts);const[t]=a;te(t)})),(t,s)=>{const n=z,l=g("client-only");return _((q(),C("div",N,[D(l,null,{default:M((()=>[Y("div",S,[(q(!0),C(j,null,E(H(R),(t=>(q(),C(j,{key:t.id},[t.custom?(q(),C("div",{key:0,class:w(["custom-date-picker",{active:t.id===I.value}]),onClick:e=>ae(t)},[Y("span",$,O(t.label),1),Y("div",J,[D(n,{class:"ui-date-picker cursor-pointer",disabledDate:H(T)(a.timeEnd),"unlink-panels":!0,modelValue:A.value,"onUpdate:modelValue":s[0]||(s[0]=e=>A.value=e),onChange:e=>function(e,a){const{id:t,custom:s}=e;ee({id:t,custom:s,value:a})}(t,e),format:"YYYY-MM-DD",size:"mini",type:"daterange","range-separator":"â€“","start-placeholder":H(e).apy.times.begin,"end-placeholder":H(e).apy.times.end},null,8,["disabledDate","modelValue","onChange","start-placeholder","end-placeholder"])])],10,W)):(q(),C("span",{key:1,class:w(["date-item",{active:t.id===I.value}]),onClick:e=>ae(t)},O(t.label),11,K))],64)))),128))]),a.hiddenType?V("v-if",!0):(q(),C("div",L,[(q(!0),C(j,null,E(H(X),(e=>(q(),C(j,{key:e.label},[e.disabled?(q(),C("span",P,O(e.label),1)):(q(),C("span",{key:1,class:w(["date-item",{active:e.key===Z.value}]),onClick:a=>te(e.key)},O(e.label),11,Q))],64)))),128))]))])),_:1})],512)),[[x,H(R).length>0]])}}}),[["__scopeId","data-v-4f1e7f6d"]]);export{R as _,G as d,A as g};
