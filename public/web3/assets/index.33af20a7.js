var t=Object.defineProperty,e=Object.defineProperties,a=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,i=(e,a,n)=>a in e?t(e,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[a]=n,o=(t,e)=>{for(var a in e||(e={}))s.call(e,a)&&i(t,a,e[a]);if(n)for(var a of n(e))l.call(e,a)&&i(t,a,e[a]);return t};import{_ as c}from"./index.4c06d6a8.js";import{aw as r,ax as u,K as d,ay as p,M as f,az as m,aA as v,q as g,aB as y,a8 as h,D as b,e as x,d as w,r as k,o as _,j as I,w as j,z as O,c as D,v as S,aC as $,i as T,u as z,F as q,g as A,a as C,b as U,t as E,n as V,aD as B,_ as P,p as M,k as N,T as F,I as R,a5 as L,f as H,A as K,a3 as W,aE as Y,aF as G,aG as J,aH as X,aI as Q,aJ as Z,aK as tt,aL as et,aM as at,aN as nt,ar as st,aO as lt,aP as it,aQ as ot,aR as ct,aS as rt,aT as ut,aU as dt,aV as pt,aW as ft,aX as mt,aY as vt,aZ as gt,a_ as yt,a$ as ht,b0 as bt,l as xt,b1 as wt,b2 as kt,a6 as _t,h as It,b3 as jt,b4 as Ot,b5 as Dt,b6 as St,b7 as $t,b8 as Tt,b9 as zt,ba as qt,W as At,bb as Ct,a0 as Ut,N as Et}from"./app.46fe480c.js";/* empty css              */import{c as Vt,S as Bt,P as Pt,A as Mt,a as Nt,b as Ft}from"./ads.c3237ba8.js";import{u as Rt}from"./uniq.3d2a9baa.js";import"./lodash.6b1417a0.js";/* empty css                */import{_ as Lt}from"./router.fc465fac.js";import{_ as Ht}from"./index.cead427e.js";import{_ as Kt}from"./login.4d835e59.js";import{v as Wt,_ as Yt,a as Gt,b as Jt,c as Xt,d as Qt,e as Zt,f as te,g as ee,h as ae,i as ne,j as se}from"./index.15953e59.js";import{U as le,P as ie,s as oe}from"./interface.812a3c85.js";import{_ as ce}from"./index.710235ef.js";import{p as re}from"./pick.bb0f00ec.js";import{_ as ue,a as de}from"./meta.530fca83.js";import"./echarts.0dcdbd40.js";const pe=function(){return new r([],"mid","pid","-1","order")},fe={star:"star",recommend:"recommend"},me=u.oss,ve={name:"我的图表",id:"my",order:0,icon_image:`${me}/nav/topicMy.png`,type:fe.star},ge={name:"精选推荐",title:"精选推荐数据专题",id:"0",order:.5,icon_image:`${me}/nav/topicRecom.png`,type:fe.recommend},ye=async function(){try{const t=await d.get(p.getMenuList);if(0===f(t,"data.code")){const e=f(t,"data.data"),a=[];return a.push(ge),a.push(...e),a.push(ve),function(t){const e=pe(),a=e.flatten(t,"topic");e.insert(a.map((t=>(t.web_logo_image&&(t.icon_image=t.web_logo_image),t.id=`${t.id}`,t))));const n=pe();return e.clone().forEach((function(t){const a=Object.assign({},t),s=e.parent(t);a.topicID=t.id,a.tagId=s?s.id:"item",n.insert(a)})),n.childrenDeep()}(a)}}catch(t){}return[ve,ge]},he=new Set,be=g({tagID:"item",topicID:"0"}),xe=function(t){var e;const a=y(t),n=null==(e=null==a?void 0:a.query)?void 0:e.value,s=f(n,"tagID")||"item",l=f(n,"topicID")||0;be.tagID=`${s}`,be.topicID=`${l}`,he.forEach((function(t){t(be)}))},we=x([]),ke=function(){const t=pe();t.insert(t.flatten(we.value,"children"));return t.selectOne({tagId:be.tagID,topicID:be.topicID})},_e=function(t){if(t.children){const e=pe();e.insert(e.flatten(t.children,"children"));if(e.selectOne({tagId:be.tagID,topicID:be.topicID}))return!0}return!1},Ie={key:1},je=w({props:{data:{type:Object}},setup(t){const e=function(t){const e=new r([],"mid","pid","-1"),a=e.flatten(we.value,"children");e.insert(a);const n=e.parent(t),s=n?n.id:"item",l=t.id;return S({path:$.topic,query:{tagID:s,topicID:l}})};return(a,n)=>{const s=k("router-link");return(l=t.data)&&l.children&&l.children.length>0?(_(),D("label",Ie,[O(a.$slots,"default")])):(_(),I(s,{key:0,to:e(t.data)},{default:j((()=>[O(a.$slots,"default")])),_:3},8,["to"]));var l}}});const Oe=["id"],De=["id"],Se={class:"flex items-center justify-between px-0.5"},$e={class:"flex items-center"},Te={key:0,class:"ml-4 dot text-xs"},ze={key:2,class:"menu-children"},qe=w({name:"TopicMenu"});var Ae,Ce=P(w((Ae=o({},qe),e(Ae,a({props:{list:{type:Array,default:()=>[]},iconSize:{type:String,default:()=>"base"},padding:{type:Number,default:()=>0}},setup:function(t){const e=t,a=function(t){return t?t.length:0},n="topic-menu",s=function(t){let a=4;const n=[];return e.padding&&(a+=B(e.padding,0)),n.push({4:"pl-4",14:"pl-14",24:"pl-24",34:"pl-34",44:"pl-44"}[a]),function(t){return!(!t||"-1"!==t.pid)}(t)&&n.push(),function(t){const e=ke();return!!e&&e.mid===t.mid}(t)&&n.push("active"),n};return(e,l)=>{const i=c,o=je,r=k("TopicMenu");return _(!0),D(q,null,T(t.list,((e,l)=>(_(),D("div",{key:l,class:"menu-item"},[z(_e)(e)?(_(),D(q,{key:0},[A(" 默认选中 "),a(e.children)?(_(),D("input",{key:0,class:"menu-radio",type:"radio",checked:"",id:e.mid,name:n},null,8,Oe)):A("v-if",!0)],2112)):(_(),D(q,{key:1},[a(e.children)?(_(),D("input",{key:0,class:"menu-radio",type:"radio",id:e.mid,name:n},null,8,De)):A("v-if",!0)],2112)),C(o,{class:V(["menu-label cursor-pointer pr-4 font-kdFang block",s(e)]),data:e,for:e.mid},{default:j((()=>[U("span",Se,[U("span",$e,[C(i,{class:"mr-4 inline-flex",type:e.icon_image,size:t.iconSize},null,8,["type","size"]),U("b",null,E(e.name),1),a(e.children)?(_(),D("span",Te,E(a(e.children)),1)):A("v-if",!0)]),U("span",null,[a(e.children)?(_(),I(i,{key:0,class:"flex",type:"up",size:"mini",suffix:"png"})):A("v-if",!0)])])])),_:2},1032,["class","data","for"]),a(e.children)?(_(),D("div",ze,[C(r,{list:e.children,padding:t.padding+10,"icon-size":"base"},null,8,["list","padding"])])):A("v-if",!0)])))),128)}}})))),[["__scopeId","data-v-6d05ec00"]]);const Ue=t=>(M("data-v-6f9b6ca2"),t=t(),N(),t),Ee={class:"flex items-center"},Ve={class:"inline-block leading-6 text-lg"},Be={class:"flex items-center cursor-pointer"},Pe=Ue((()=>U("span",{class:"text-base"},[U("span",{class:"hidden md:inline-block"},"订阅专题相关异动"),U("span",{class:"inline-block md:hidden"},"订阅")],-1))),Me=Ue((()=>U("p",{class:"text-center text-lg font-normal pb-2"},"关注成功",-1)));var Ne=P(w({props:{menu:{type:Object,required:!0},sub:{type:Boolean,default:()=>!1}},setup(t){const e=x(!1);return(a,n)=>{const s=c,l=k("AppDownTips"),i=F;return _(),D("div",{class:V(["page-title",{sub:t.sub}])},[U("span",Ee,[C(s,{class:"mr-2 inline-flex text-2xl",type:t.menu.icon_image,size:"2xl"},null,8,["type"]),U("b",Ve,E(t.menu.title||t.menu.name),1)]),U("div",{class:V(["followed is-web",`type-${t.menu.tagId}`])},[C(i,{placement:"bottom-end",visible:e.value,"onUpdate:visible":n[1]||(n[1]=t=>e.value=t),width:300,trigger:"click","show-arrow":!0},{reference:j((()=>[U("div",Be,[C(s,{class:"text-2xl mr-1",type:"icon-message"}),Pe])])),default:j((()=>[U("div",null,[Me,C(l,{onClick:n[0]||(n[0]=t=>e.value=!1)})])])),_:1},8,["visible"])],2)],2)}}}),[["__scopeId","data-v-6f9b6ca2"]]);const Fe={class:"equal-width-height"},Re={class:"equal-content"};var Le=P(w({props:{url:String,image:String},setup(t){const e=t,a=R((()=>`background-image: url(${e.image});`));return(e,n)=>{const s=Lt;return _(),D("div",Fe,[U("div",Re,[t.url?(_(),I(s,{key:0,class:"ad-picture inline-block",href:t.url,target:"_blank",style:L(z(a))},null,8,["href","style"])):(_(),D("span",{key:1,class:"ad-picture inline-block",style:L(z(a))},null,4))])])}}}),[["__scopeId","data-v-6621a01a"]]);const He=w({props:{list:{type:Array,default:()=>[]},freeMode:{type:Boolean,default:()=>!1},spaceBetween:{type:Number,default:()=>0},slideWidth:{type:String,default:()=>"100%"},autoplay:{type:Boolean,default:()=>!1},delay:{type:Number,default:()=>3e3},loop:{type:Boolean,default:()=>!0},bottomType:{type:String,default:()=>"round"}},setup(t){const e=t;Bt.use([Pt,Mt]);const a=R((function(){const t={};return t.width=e.slideWidth,t})),n=R((function(){return!!e.autoplay&&{delay:e.delay,disableOnInteraction:!1}}));return(e,s)=>t.list.length?(_(),I(z(Ft),{key:0,class:V(t.bottomType),initialSlide:0,"slides-per-view":"auto",pagination:{clickable:!0},autoplay:z(n),loop:t.loop,"space-between":t.spaceBetween,"free-mode":t.freeMode,"resize-observer":!0},{default:j((()=>[(_(!0),D(q,null,T(t.list,((t,n)=>(_(),I(z(Nt),{key:n,style:L(z(a))},{default:j((()=>[O(e.$slots,"item",{data:t})])),_:2},1032,["style"])))),128))])),_:3},8,["class","autoplay","loop","space-between","free-mode"])):A("v-if",!0)}}),Ke=x([]),We=async function(){if(Ke.value.length<1){const t=await Vt(4);Ke.value=t}},Ye={class:"whitespace-pre-wrap pt-5 px-5"},Ge={class:"-mx-1.5 hidden md:block"},Je={class:"flex flex-wrap"},Xe={class:"block md:hidden"},Qe=w({props:{menu:{type:Object}},setup(t){const e=t,a=R((function(){return Object.assign({},e.menu,{title:"精选推荐数据图表"})}));return H(We),(t,e)=>{const n=Le,s=He,l=Ne;return _(),D("div",null,[U("div",Ye,[A(" 大屏 "),U("div",Ge,[U("div",Je,[(_(!0),D(q,null,T(z(Ke),((t,e)=>(_(),D("div",{key:e,class:"w-1/3 lg:w-1/4 xl:w-1/5 px-1.5 pb-3"},[C(n,{url:t.url,image:t.image},null,8,["url","image"])])))),128))])]),A(" 移动端 "),U("div",Xe,[C(s,{list:z(Ke),autoplay:!0},{item:j((t=>[C(n,{url:t.data.url,image:t.data.image},null,8,["url","image"])])),_:1},8,["list"])])]),C(l,{menu:z(a),sub:!0},null,8,["menu"])])}}}),Ze=async function(t){return K(async function(t){const e={id:t};try{const t=await d.post(p.addfollow,e);return m(t)}catch(a){return}}(t))},ta=async function(t){return K(async function(t){const e={id:t};try{const t=await d.post(p.unfollow,e);return m(t)}catch(a){return}}(t))};const ea=t=>(M("data-v-610a95bd"),t=t(),N(),t),aa={key:1,class:"cursor-pointer"},na=ea((()=>U("span",{class:"ml-1.5 align-bottom"},"已关注",-1))),sa=ea((()=>U("p",{class:"text-center text-base font-normal title"},"关注成功",-1)));var la=P(w({props:{id:{type:[Number,String],required:!0},status:{type:Boolean,default:()=>!1}},emits:["update:status"],setup(t,{emit:e}){const a=t,n=x(!1),s=R((function(){return"my"===be.topicID})),l=async function(){const t=await Ze(a.id);n.value=t,e("update:status",t)},i=async function(){await ta(a.id)&&(n.value=!1,e("update:status",!1))};return(e,a)=>{const o=c,r=k("AppDownTips"),u=W,d=Kt;return _(),I(d,{class:"is-web"},{default:j((()=>[t.status?z(s)?(_(),D("div",aa,[U("span",{class:"ml-3 follow-btn",onClick:i},[C(o,{class:"align-middle",type:"icon-gou_huaban1"}),na])])):A("v-if",!0):(_(),D("div",{key:0,class:"cursor-pointer",onClick:l},[O(e.$slots,"default",{},void 0,!0)])),C(u,{modelValue:n.value,"onUpdate:modelValue":a[1]||(a[1]=t=>n.value=t),width:"320px !important","append-to-body":!0},{title:j((()=>[sa])),default:j((()=>[C(r,{onClick:a[0]||(a[0]=t=>n.value=!1)})])),_:1},8,["modelValue"])])),_:3})}}}),[["__scopeId","data-v-610a95bd"]]);const ia={class:"flex items-end"},oa={key:0,class:"text-2xl mr-2 whitespace-nowrap"},ca={key:1,class:"text-sm whitespace-nowrap"},ra={class:"text-global-numGreen"},ua={class:"text-global-numRed mr-1"},da=w({props:{data:{type:Object,required:!0}},setup(t){const e=t,a=u.oss,n=R((function(){var t;return B(null==(t=e.data)?void 0:t.rateValue)})),s=R((function(){var t;return function(t,e=1){const a=new G(t).multipliedBy(e);return B(a)}(null==(t=e.data)?void 0:t.rateChange,100)})),l=function(t,e){switch(e){case le.a:case le.a1:case le.a2:case le.a3:return"text-global-numRed"}return t>=0?"text-global-numGreen":"text-global-numRed"};return(e,i)=>{const o=c;return _(),D("span",ia,[z(Y)(t.data.rateValue)?(_(),D("span",oa,[U("span",{class:V(l(z(n),t.data.rateUnit))},E((r=z(n),u=t.data.rateUnit,Wt({value:r,unit:u}))),3)])):A("v-if",!0),z(Y)(t.data.rateChange)?(_(),D("span",ca,[z(s)>=0?(_(),D(q,{key:0},[U("span",ra,E(z(s))+"%",1),C(o,{type:`${z(a)}/nav/topicUp.svg`,size:"xs"},null,8,["type"])],64)):(_(),D(q,{key:1},[U("span",ua,E(z(s))+"%",1),C(o,{type:`${z(a)}/nav/topicDown.svg`,size:"xs"},null,8,["type"])],64))])):A("v-if",!0)]);var r,u}}}),pa=w({emits:["change"],setup(t,{emit:e}){const a=J("fullStatus"),n=X("fullStatus"),s=function(){const t=(null==n?void 0:n.value)||[];return K(t[0])},l=function(){const t=!s();a(t),e("change",t)};return(t,e)=>{const a=c;return _(),D("div",{class:"cursor-pointer inline",onClick:l},[U("span",{class:V({hidden:s()})},[C(a,{type:"icon-zoom",class:"text-white"})],2),U("span",{class:V({hidden:!s()})},[C(a,{type:"icon-suoxiao",class:"text-white"})],2)])}}});const fa=t=>(M("data-v-1dc60581"),t=t(),N(),t),ma={class:"text-kdFang"},va={class:"block md:hidden"},ga={class:"flex items-center"},ya={class:"flex-1 w-1"},ha={class:"inline-block max-w-full"},ba={class:"font-bold text-global-highTitle"},xa={class:"inline-block max-w-full truncate"},wa={class:"flex items-center text-global-time text-xs whitespace-nowrap ml-2"},ka={class:"inline-block leading-6"},_a={class:"bg-global-primary follow-btn small inline-flex items-center"},Ia=fa((()=>U("span",{class:"ml-1 inline-block"},"关注",-1))),ja={class:"hidden md:block"},Oa={key:0,class:"flex justify-between items-start"},Da={class:"flex-auto w-1 mr-2 md:flex items-center"},Sa={class:"max-w-full font-bold text-global-highTitle h-6 leading-6"},$a=["title"],Ta={class:"md:ml-3"},za={class:"text-global-time 2xl:flex 2xl:flex-row-reverse 2xl:items-center"},qa={class:"text-xs whitespace-nowrap flex justify-end"},Aa={class:"flex flex-wrap items-center flex-col-reverse md:flex-row"},Ca={class:"inline-flex items-center justify-end"},Ua={class:"btn-border cursor-pointer"},Ea={class:"btn-border ml-3"},Va={class:"mb-3 md:mb-0 md:ml-3 inline-flex items-center"},Ba={key:0,class:"inline-block mr-3"},Pa={class:"bg-global-primary follow-btn inline-flex"},Ma=fa((()=>U("span",{class:"ml-1 inline-block"},"关注",-1))),Na={class:"message cursor-pointer"},Fa=fa((()=>U("span",{class:"ml-1"},"时时接收数据异动",-1))),Ra=fa((()=>U("p",{class:"text-center text-lg font-normal pb-2"},"指标异动订阅",-1))),La={class:"mt-2 2xl:mt-0 2xl:mr-3"},Ha={class:"flex justify-between items-start"},Ka={class:"flex-auto w-1 mr-2"},Wa={class:"font-bold text-global-highTitle h-6 leading-6"},Ya={class:"inline-block max-w-full truncate"},Ga={class:"flex items-center"},Ja={class:"inline-block leading-6"},Xa={class:"bg-global-primary follow-btn small"},Qa=fa((()=>U("span",{class:"ml-1"},"关注",-1))),Za={class:"leading-8 hidden lg:flex lg:items-center lg:justify-end"};var tn=P(w({props:{data:{type:Object,required:!0},full:{type:Boolean,default:()=>!1}},setup(t){const e=t,a=x(!1);return b(e.data,(function(t){a.value=K(t.followed)})),H((function(){a.value=K(e.data.followed)})),(e,n)=>{const s=c,l=la,i=da,o=Yt,r=pa,u=k("AppDownTips"),d=F;return _(),D("div",ma,[A("手机端样式"),U("div",va,[U("div",ga,[U("div",ya,[U("div",ha,[U("h4",ba,[U("span",xa,E(t.data.name),1)])])]),U("div",wa,[U("div",ka,[O(e.$slots,"timeEnd",{},void 0,!0)]),C(l,{class:V({"ml-3":!a.value}),id:t.data.chartId,status:a.value,"onUpdate:status":n[0]||(n[0]=t=>a.value=t)},{default:j((()=>[U("span",_a,[C(s,{type:"icon-plus",class:"text-white align-middle"}),Ia])])),_:1},8,["class","id","status"])])]),U("div",null,[C(i,{data:t.data},null,8,["data"])])]),A(" PC端样式 "),U("div",ja,[A(" 大屏模式 "),t.full?(_(),D("div",Oa,[A(" 左侧标题 "),U("div",Da,[U("div",Sa,[U("span",{class:"inline-block max-w-full truncate",title:t.data.name},E(t.data.name),9,$a)]),U("div",Ta,[C(i,{data:t.data},null,8,["data"])])]),U("div",za,[U("div",qa,[U("div",Aa,[U("div",Ca,[A(" 保存 "),C(o,{title:t.data.name},{default:j((()=>[U("a",Ua,[C(s,{type:"icon-download"})])])),_:1},8,["title"]),A(" 缩放按钮 "),U("span",Ea,[C(r)])]),U("div",Va,[A(" 关注按钮 "),a.value?A("v-if",!0):(_(),D("div",Ba,[C(l,{id:t.data.chartId,status:a.value,"onUpdate:status":n[1]||(n[1]=t=>a.value=t)},{default:j((()=>[U("span",Pa,[C(s,{type:"icon-plus",class:"text-white align-middle"}),Ma])])),_:1},8,["id","status"])])),U("div",null,[C(d,{placement:"bottom",width:300,trigger:"hover"},{reference:j((()=>[U("div",Na,[C(s,{type:"icon-message",class:"text-white"}),Fa])])),default:j((()=>[U("div",null,[Ra,C(u)])])),_:1})])])])]),U("div",La,[O(e.$slots,"time",{},void 0,!0)])])])):(_(),D(q,{key:1},[A(" 正常模式 "),U("div",Ha,[A(" 左侧标题 "),U("div",Ka,[A(" 标题名称 "),U("div",Wa,[U("span",Ya,E(t.data.name),1)]),A(" 涨浮概率 "),U("div",null,[C(i,{data:t.data},null,8,["data"])])]),A(" 右侧功能 "),U("div",null,[U("div",Ga,[U("div",Ja,[O(e.$slots,"timeEnd",{},void 0,!0)]),C(l,{class:V({"ml-3":!a.value}),id:t.data.chartId,status:a.value,"onUpdate:status":n[2]||(n[2]=t=>a.value=t)},{default:j((()=>[U("span",Xa,[C(s,{type:"icon-plus",class:"text-white"}),Qa])])),_:1},8,["class","id","status"])]),U("div",Za,[C(r)])])])],2112))])])}}}),[["__scopeId","data-v-1dc60581"]]);const en=w({props:{data:{type:Object,required:!0}},setup(t){const e=t,a=R((function(){var t,a;return K(null==(a=null==(t=e.data)?void 0:t.detail)?void 0:a.stack)})),n=R((function(){var t,a;return K(null==(a=null==(t=e.data)?void 0:t.detail)?void 0:a.log)})),s=R((function(){var t,a,n,s,l;if(null==(t=e.data)?void 0:t.detail){if(K(null==(n=null==(a=e.data)?void 0:a.detail)?void 0:n.stack))return!0;if(!K(null==(l=null==(s=e.data)?void 0:s.detail)?void 0:l.multiple))return!0}return!1}));return(e,l)=>{const i=Gt,o=Jt,c=Xt,r=Qt,u=Zt,d=te;return _(),I(d,{stack:z(a),log:z(n),area:z(s)},{default:j((()=>[A(" 提示框 trigger: 触发方式 "),C(i,{trigger:"axis"}),A("图例"),(_(!0),D(q,null,T(t.data.legends,((t,e)=>(_(),D(q,{key:`legend-${e}`},[A("\n        value: 图例名称\n        type: 图例对应的图形类型(通过 index 与 series 数据匹配)\n        show: 是否显示\n        position: 通过该字段控制 Series 中对应的数据以那个 Y 轴为纬度展示\n      "),C(o,{index:e,value:t.name,type:t.type,position:t.kline?z(ie).right:z(ie).left},null,8,["index","value","type","position"])],64)))),128)),A(" 设置Y轴 "),A("\n      position: Y轴位置 [left / right]\n      legend: 控制某些图例(series)数据的刻度尺\n    "),C(c,{index:0,position:z(ie).left},null,8,["position"]),C(c,{index:1,position:z(ie).right},null,8,["position"]),A(" 设置X轴 "),C(r,{value:t.data.xAxis},null,8,["value"]),A("数据"),(_(!0),D(q,null,T(t.data.legends,((t,e)=>(_(),D(q,{key:e},[A("\n        通过 index 与 legend 对应 (legend 中的 position 字段会影响数据的展示)\n        value: 数据\n      "),C(u,{index:e,value:t.data},null,8,["index","value"])],64)))),128))])),_:1},8,["stack","log","area"])}}}),an={class:"text-global-time"},nn=U("span",null,"更新时间",-1),sn={class:"ml-1"},ln=w({props:{data:{type:Object,required:!0},xzxis:{type:Array,default:()=>[]}},setup(t){const e=t,a=R((function(){var t;const a=e.data;let n=f(a,"last");if(!n&&(null==(t=e.xzxis)?void 0:t.length)>0){const[t]=e.xzxis.slice(-1),{time:a}=t;n=a}const s=Q(n),l=Z(s);if(l>0)return`${l}天前`;const i=tt(s);if(i>0)return`${i}小时前`;const o=et(s);return o>0?`${o}分钟前`:"1分钟内"}));return(t,e)=>(_(),D("span",an,[nn,U("span",sn,E(z(a)),1)]))}});const on={class:"chart-desc pt-3"},cn={class:"flex justify-between items-center"},rn=(t=>(M("data-v-81dc3cfa"),t=t(),N(),t))((()=>U("div",null,[U("label",{class:"text-base"},"指标说明")],-1))),un={class:"inline-block"},dn={class:"pt-1 chart-content text-sm"};var pn=P(w({props:{data:{type:Object,required:!0}},setup:t=>(e,a)=>(_(),D("div",on,[U("div",cn,[rn,U("div",un,[O(e.$slots,"timeEnd",{},void 0,!0)])]),U("p",dn,E(t.data.desc),1)]))}),[["__scopeId","data-v-81dc3cfa"]]);const fn=async function(t,e=1,a=10,n=""){const s={page:e,page_size:a,query:n},l=await async function(t,e){let a;switch(t){case ve.id:a=p.followList;break;case ge.id:case parseInt(ge.id,10):a=p.recommend;break;default:a=p.charts,e.id=t}f(e,"query")&&(a=p.search);try{const t=await d.get(a,{params:e}),n=m(t);if(n){return{count:f(n,"count"),list:f(n,"results")}}}catch(n){}return{count:0,list:[]}}(t,s),i=at((function(e){const a=K(f(e,"is_multy_chart")),n=f(e,"chart");if(n&&n.length>0){const s=function(t){const e=[];for(let a=0,n=t.length;a<n;a++){const n=t[a],s=f(n,"chart.id"),l=f(n,"alias")||"",i=f(n,"chart.field_unit")||"",o=f(n,"default_chart")||"";e.push({id:s,name:l,type:o,unit:i})}return v(e)}(n),l=K(f(e,"log"));let i=B(f(e,"width")),o=B(f(e,"height"));return i=0===i?50:i>0&&i<50?33:i>=50&&i<100?50:100,o<=200&&(o=200),"my"!==t&&"0"!==t&&0!==t||(i=50,o=200),{multiple:a,width:i,height:o,log:l,stack:K(f(e,"stacked")),name:f(e,"name")||"",chartId:f(e,"id"),followed:K(f(e,"followed")),seriesIds:at((t=>t.id),s),legends:s}}}),f(l,"list"));return{list:v(i),count:f(l,"count")}},mn=function(t,e,a,n){if(t)return async function(t,e){const a=Object.assign({},e||{},{id:t});try{const t=await d.get(p.multipleDetail,{params:a});return m(t)}catch(n){return}}(e,n);const[s]=a;return async function(t,e){const a=Object.assign({},e||{},{id:t});try{const t=await d.get(p.detail,{params:a});return m(t)}catch(n){return}}(s,n)},vn=function(t){const e=f(t,"ext[0]"),a=f(t,"id"),n=f(t,"interval"),s=f(t,"default_chart");return Object.assign({id:a,type:s,interval:st(n||"")},re(["title"],e||{}))},gn=async function(t,e,a){if(t){const t=await async function(t,e){const a=Rt(v(t)),n=Object.assign({},e||{},{chart_ids:a.join(",")});try{const t=await d.get(p.multipleTrends,{params:n});return m(t)}catch(s){return}}(e,a),n=new r(t,"id"),s={},l={};return nt((function(t){const e=n.selectOne({id:t});s[t]=f(e,"trend.data"),l[t]=vn(f(e,"trend"))}),e),{detail:l,series:s}}{const t=e[0],n=await async function(t,e){const a=Object.assign({},e||{},{id:t});try{const t=await d.get(p.trend,{params:a});return m(t)}catch(n){return}}(t,a);return{detail:{[t]:vn(n)},series:{[t]:f(n,"data")}}}},yn=function(){return g({detail:void 0,legends:[],xAxis:[],uuid:lt()})},hn=async function(t,e){const a=await mn(t.multiple,t.chartId,t.seriesIds,e),n=f(a,"kline_chart"),s=function(t){const e=f(t,"chart");return e&&e.length>0?at((function(t){return Object.assign({},t,{id:f(t,"chart.id")})}),e):[]}(a);let l=!1;const i=at((function(t){const e=o({},t);return e.type||(e.type=oe.line),t.kline&&(l=!0),e}),it(y(t.legends)));if(!l)if(t.multiple){if(n&&s&&s.length>0){const t=new r(s,"id").selectOne({id:n});if(t){const e=f(t,"chart.relation_title");e&&i.push({kline:!0,name:e,id:f(t,"chart.id"),unit:f(t,"chart.relation_unit"),type:oe.line,position:ie.right})}}}else{const t=f(a,"relation_title");if(t){const e={kline:!0,name:t,id:f(a,"id"),unit:f(a,"relation_unit"),type:oe.line,position:ie.right};i.push(e)}}t.legends=at((function(t){return t.kline=K(t.kline),t}),i),t.last=f(a,"last");const c=K(f(a,"stacked"));c&&(t.stack=c);const u=K(f(a,"followed"));u&&(t.followed=u);const d=f(a,"desc")||"";t.desc=d,t.rateValue=f(a,"value"),t.rateUnit=ot(f(a,"field_unit")||""),t.rateChange=f(a,"change");try{let e=f(a,"chart[0].chart.interval");if(e){const{type:a}=ct(e);t.interval=a}else{const{type:e}=ct(f(a,"interval"));t.interval=e}}catch(p){}try{let e=f(a,"chart[0].chart.end_ts");e||(e=f(a,"end_ts")),t.dateTimeEnd=Q(e)}catch(p){t.dateTimeEnd=Q()}return t},bn=async function(t,e){const[a,n]=await Promise.all([hn(t,e),gn(t.multiple,t.seriesIds,e)]);let s=ee(a.legends,n.detail);a.legends=s;const l=ae(n.detail),i=ne(n.series,l);return s=se(s,i,n.series,l),{detail:a,legends:s,xAxis:i,uuid:lt()}},xn={class:"pt-3 h-full"},wn=w({props:{option:{type:Object,required:!0}},setup(t){const e=t,a=x(!1),n=R((function(){var t;const a=(null==(t=e.option)?void 0:t.interval)||"d",n={};return"d"===a&&(n.day=["7","30",{value:"90",default:!0},"365","all","custom"]),"h"===a&&(n.hour=[{value:"7",default:!0},"30"]),n})),s=yn(),l=R((function(){return s.detail?s.detail:e.option}));return rt("uiDate",(function(t){const[n]=t;!async function(t){a.value=!0;const[n,l]=t,i=e.option,o={};n&&Y(n)&&(o.from_ts=Math.floor(n/1e3)),l&&Y(l)&&(o.to_ts=Math.floor(l/1e3));const c=await bn(i,o);s.detail=c.detail,s.legends=c.legends,s.xAxis=c.xAxis,s.uuid=c.uuid,mt((function(){a.value=!1}),300)}(n)})),(e,i)=>{const o=Ht,c=tn,r=ut,u=en,d=ce,p=dt,f=ln,m=pn,v=pt,g=ft;return _(),I(g,{class:"h-full"},{default:j((()=>[C(r,{height:"initial",class:"p-0"},{default:j((()=>[C(c,{data:z(l),full:!0},{time:j((()=>[C(o,{shortcuts:z(n),"time-end":t.option.dateTimeEnd},null,8,["shortcuts","time-end"])])),_:1},8,["data"])])),_:1}),C(p,{class:"p-0 overflow-visible"},{default:j((()=>[U("div",xn,[C(d,{loading:a.value},{default:j((()=>[z(s).xAxis.length>0?(_(),I(u,{key:z(s).uuid,data:z(s)},null,8,["data"])):A("v-if",!0)])),_:1},8,["loading"])])])),_:1}),C(v,{height:"initial",class:"p-0"},{default:j((()=>[C(m,{data:z(l)},{timeEnd:j((()=>[C(f,{data:z(l),xzxis:z(s).xAxis},null,8,["data","xzxis"])])),_:1},8,["data"])])),_:1})])),_:1})}}}),kn=w({emits:["onload"],setup(t,{emit:e}){const a=x(null),n=x(!1),s=lt(),l=function(t,e=0){const a=xt.body||wt("body");if(t&&a){const n=e+t.offsetTop,s=t.offsetParent;return s===a?n:l(s,n)}return e},i=function(){const t=ht(),i=bt(),o=y(a).value;l(o)<t+i&&(n.value=!0,yt(s),e("onload"))};return H((function(){vt(s,i),i()})),gt((function(){yt(s)})),(t,e)=>{const s=k("client-only");return _(),I(s,null,{default:j((()=>[U("div",{ref:(t,e)=>{e.winShowRef=t,a.value=t}},null,512),n.value?O(t.$slots,"default",{key:0}):A("v-if",!0)])),_:3})}}}),_n={key:0},In={key:0,class:"w-full h-full"},jn=w({props:{status:{type:Boolean,default:()=>!1}},emits:["change"],setup(t,{emit:e}){const a=t,n=x(lt()),s=x(!1),[l,i]=kt("fullStatus",!1);b(l,(function(t){const[a]=t;s.value=!1,n.value=lt(),e("change",a)}));const o=R((function(){const[t]=null==l?void 0:l.value;return K(t)})),c=function(){s.value=!0},r=function(){return i(!1),!0};return H((function(){i(a.status)})),(t,e)=>{const a=W,l=k("client-only");return _(),I(l,null,{default:j((()=>[O(t.$slots,"default",{status:!1,id:`small-${n.value}`}),z(o)?(_(),D("div",_n,[C(a,{top:"0",modelValue:z(o),"onUpdate:modelValue":e[0]||(e[0]=t=>_t(o)?o.value=t:null),"custom-class":"screen-dialog","show-close":!1,"lock-scroll":!0,"append-to-body":!0,onOpened:c,onClose:r},{default:j((()=>[s.value?(_(),D("div",In,[O(t.$slots,"default",{status:z(o),id:`medium-${n.value}`})])):A("v-if",!0)])),_:3},8,["modelValue"])])):A("v-if",!0)])),_:3})}}}),On={key:0,class:"h-full"},Dn=w({props:{option:{type:Object,required:!0}},setup(t){const e=t,a=yn(),n=R((function(){return a.detail?a.detail:e.option})),s=R((function(){var t;const n=(null==(t=null==a?void 0:a.detail)?void 0:t.interval)||"1d";return Object.assign({},e.option,{interval:n})})),l=R((function(){const t=a.detail;return t?t.height:200})),i=async function(){const t=e.option,n=await bn(t);a.detail=n.detail,a.legends=n.legends,a.xAxis=n.xAxis,a.uuid=n.uuid};return(t,e)=>{const o=wn,c=ln,r=tn,u=en,d=kn,p=jn;return _(),I(p,null,{default:j((t=>[A(" 全屏 "),t.status?(_(),D("div",On,[C(o,{option:z(s)},null,8,["option"])])):(_(),D(q,{key:1},[C(r,{data:z(n),full:t.status},{timeEnd:j((()=>[C(c,{data:z(n),xzxis:z(a).xAxis},null,8,["data","xzxis"])])),_:2},1032,["data","full"]),U("div",{class:"text-kdFang",style:L({height:`${z(l)}px`})},[C(d,{class:"h-full",onOnload:i},{default:j((()=>[z(a).xAxis.length>0?(_(),I(u,{key:z(a).uuid,data:z(a)},null,8,["data"])):A("v-if",!0)])),_:1})],4)],64))])),_:1})}}});const Sn={class:"py-18"},$n={class:"text-sm font-normal"},Tn={class:"text-global-highTitle text-opacity-45"},zn=w({props:{desc:{type:String,default:()=>""}},setup(t){const e=`${It}/common/noData.png`;return(a,n)=>{const s=jt;return _(),D("div",Sn,[C(s,{image:e,"image-size":240},{description:j((()=>[U("p",$n,[U("span",Tn,E(t.desc),1)])])),_:1})])}}});const qn={key:0,class:"p-2.5 flex flex-wrap"},An={class:"chart-item rounded p-3 bg-white"},Cn=U("div",{class:"py-5 w-full"},[U("p",{class:"text-xs text-global-grey text-center"},"—— 已到底部 ——")],-1),Un={key:0},En=w({props:{menu:{type:Object},query:{type:String,default:()=>""}},setup(t){const e=t,a="topicList";let n=x(!1),s=x(1),l=x(10),i=x(s.value*l.value);const o=x([]),c=function(){return s.value*l.value-l.value<=i.value},r=function(t){const e=["w-full"];return 50===t?e.push("lg:w-1/2"):33===t&&e.push("lg:w-1/3"),e},u=function(){if(!n.value){ht()+bt()+200>St()&&d()}},d=async function(){if(!n.value&&c()){n.value=!0;const t=null==e?void 0:e.menu,r=(null==t?void 0:t.topicID)||(null==t?void 0:t.id),{list:d,count:p}=await fn(r,s.value,l.value,e.query);o.value=Dt(o.value,d),i.value=B(p,0),s.value=s.value+1,n.value=!1,c()?vt(a,u):yt(a)}};return Ot(d),gt((function(){yt(a)})),(t,e)=>{const a=Dn,s=zn,l=ce;return _(),I(l,{class:"min-h-120",loading:z(n)},{default:j((()=>[o.value.length>0?(_(),D("div",qn,[(_(!0),D(q,null,T(o.value,((t,e)=>(_(),D("div",{key:e,class:V(["p-2.5",r(t.width)])},[U("div",An,[C(a,{option:t},null,8,["option"])])],2)))),128)),Cn])):(_(),D(q,{key:1},[z(n)?A("v-if",!0):(_(),D("div",Un,[C(s,{desc:"暂无图表"})]))],2112))])),_:1},8,["loading"])}}});class Vn{static getIo(){const t=()=>{};return"undefined"==typeof window?t:window&&window.gio?window.gio:t}track(t,e){const a=Vn.getIo();return e&&$t(e)?a("track",t,e):a("track",t)}set(t,e,a){const n=Vn.getIo();return e&&Tt(e)?n(t,e,a):e&&$t(e)?n(t,e):void 0}pageSet(t,e){return this.set("page.set",t,e)}evarSet(t,e){return this.set("evar.set",t,e)}peopleSet(t,e){return this.set("people.set",t,e)}visitorSet(t,e){return this.set("visitor.set",t,e)}setUserId(t){if(t){Vn.getIo()("setUserId",t)}}clearUserId(){Vn.getIo()("clearUserId")}config(t){if(t){Vn.getIo()("config",t)}}}var Bn;(Bn||(Bn={})).gio="gio";const Pn={list:"show_data"};const Mn={class:"w-full flex"},Nn={class:"w-72 hidden md:block"},Fn={class:"fixed -bottom-0 -left-0 top-header w-72 z-10"},Rn={class:"w-full h-full"},Ln={class:"menu-box w-full h-full overflow-y-auto overflow-x-hidden bg-white"},Hn={class:"search-box h-14 flex items-center"},Kn={key:0,class:"flex-auto w-1"},Wn={key:0,class:"max-w-full"},Yn={class:"hidden"};var Gn=P(w({setup(t){const e=x(""),a=x(lt()),n=g({data:{}}),s=function(){const t={topId:n.data.topicID,search:e.value};a.value=lt(JSON.stringify(t))},l=At((function(){e.value="";const t=ke()||{},a=f(t,"tagId"),l=f(t,"topicID");!function(t,e,a){if(t&&e){const n=zt.get(u.tokenName),s=Object.assign({language:qt(),isUser:n?1:0},a||{});for(const a of it(t))a===Bn.gio&&(new Vn).track(e,s)}}(Bn.gio,Pn.list,{tagID:a,topicID:l}),n.data=t,s()}),300);b(be,l,{deep:!0});const i=function(){Ct(),s()};return Ot((async()=>{!function(){const t=h();b(t,(t=>xe(t)),{deep:!0}),xe(t)}(),s(),await async function(){const t=await ye();we.value=t}(),l()})),(t,s)=>{const l=c,o=Ut,r=Ce,u=Ne,d=Qe,p=En,f=ue,m=de;return _(),D("div",Mn,[U("div",Nn,[U("div",Fn,[U("div",Rn,[U("div",Ln,[U("div",Hn,[C(o,{modelValue:e.value,"onUpdate:modelValue":s[0]||(s[0]=t=>e.value=t),placeholder:"搜索",onChange:i},{prefix:j((()=>[C(l,{class:"flex text-base transform -translate-y-1.5",type:"icon-sousuo"})])),_:1},8,["modelValue"])]),z(we).length>0?(_(),I(r,{key:0,list:z(we),"icon-size":"2xl"},null,8,["list"])):A("v-if",!0)])])])]),z(we).length>0?(_(),D("div",Kn,[z(n).data.topicID?(_(),D("div",Wn,[C(u,{menu:z(n).data},null,8,["menu"]),U("div",null,[A(" 精选推荐广告位 "),z(n).data.type&&z(n).data.type===z(fe).recommend?(_(),I(d,{key:0,menu:z(n).data},null,8,["menu"])):A("v-if",!0),A(" 图表列表 "),C(p,{key:a.value,menu:z(n).data,query:e.value},null,8,["menu","query"])])])):A("v-if",!0),U("div",Yn,[C(f,{value:"KingData 数据图表"}),C(m,{description:"KingData 全球领先的区块链分析搜索引擎，基于区块链交易构成的复杂关系网络，以及行业不同领域的数据特性，运用图计算、机器学习和图构建等技术，为用户提供区块链行业在交易、安全，投研、溯源、可视化、Dapp等领域的专业数据服务。",keywords:"BTC, ETH, EOS, USDT, 波卡, DeFi, DOT,智能投研, 大数据分析, coinmarket, 数字货币数据分析,数字货币行业大数据, 虚拟币数据分析, Coinmarketcap, 中文版 Coinmarketcap, 区块链, 大数据, 数据分析, 比特币, 莱比特, 以太坊, ETH, EOS, 钱包, 共识算法, 舆情分析, cryptocompare, coinmarket, 数字货币数据分析,投资,投资顾问, 智能投资,智投,投资工具,数据分析,数据可视化,Digital currency data analysis, Digital currency industry big data, 数字货币行业大数据, 虚拟币数据分析, Virtual currency data analysis, 中文版Coinmarketcap, blockchain, big data, BTC, 比特币, 莱比特, LTC, 以太坊, ETH, EOS, 钱包, wallet, 共识算法, 舆情分析, Consensus algorithm,cryptocompare, Public opinion analysis"})])])):A("v-if",!0)])}}}),[["__scopeId","data-v-fd702c3e"]]),Jn={};const Xn={class:"hidden"},Qn=w({setup:t=>(t,e)=>{const a=Gn,n=de;return _(),D("div",null,[C(a),U("div",Xn,[C(n,{keywords:z(Et).menu.seo.key,description:z(Et).menu.seo.des},null,8,["keywords","description"])])])}});"function"==typeof Jn&&Jn(Qn);export{Qn as default};
